Docker Networks
===============

Docker Networks â€“ Complete Guide
ðŸ”¹ What is Docker Network?

1. Docker networks are used to enable communication between containers.

2. Containers can communicate with each other only if they are in the same network.

3. If you do not specify any network while creating a container, it will automatically be attached to the default bridge network.

By default, Docker provides three networks:
bridge (default)
host
none

list networks 

docker network ls

How to Check Which Network a Container Is Using?
docker inspect <container-id>

How to Check Whether Two Containers Are Connected?

step-1
docker exec -it rajendra-app /bin/bash

Step 2: Install ping utility (if required)
yum update
yum install -y iputils

Step 3: Ping the second container using its IP
ping 172.17.0.3
curl -v telnet://172.17.0.3:8080


âš  Note:
In the default bridge network, containers can communicate only using IP addresses, not container names.

Disadvantage of Default Bridge Network
If a container restarts, its IP address may change. So IP-based communication is not reliable.

Q: What is the difference between Default Bridge and Custom Bridge Network?
Default Bridge                                   	Custom Bridge
Communication only through IP address	     Communication through IP and Container Name
No automatic DNS resolution	               Automatic DNS resolution enabled
Less flexible	                              More flexible and recommended

How to Create a Custom Network?
Syntax:
docker network create -d <driver> <network-name>
example 
docker network create -d bridge jionetwork
docker network ls

How Are IPs Allocated to Containers?
docker inspect <network-name>

Docker automatically assigns IP addresses from the networkâ€™s subnet.

How to Remove Unused Networks?
docker system prune

docker network prune

docker network rm <network-name>

How to Create a Container in a Specific Network?

docker run -d -p 8080:8080 --network devopsrajendra --name rajendra-app-1 devops-rajendra:single

docker run -d -p 8080:8080 --network devopsrajendra --name rajendra-app-2 devops-rajendra:single



Test Name-Based Communication

docker exec -it javawebapp bash
ping mavenwebapp

In a custom bridge network, containers can communicate using container names.


Can a Container Be Part of Multiple Networks?

Yes. A container can be connected to multiple networks.

How to Connect a Running Container to Another Network?

docker network connect devopsrajendranetwork rajendra-app-1
docker inspect javawebappbridge


How to Disconnect a Container from a Network?
docker network disconnect jionetwork javawebappbridge
docker inspect javawebappbridge


What is Docker Host Network?

If a container is created using the host network:
It does NOT get a separate IP address.
It uses the host machineâ€™s network stack directly.

docker run -d --network host --name javawebapp kkeducation123456/maven-web-app:1.2
docker inspect <container-id>


Important Notes:

You cannot run multiple containers exposing the same port in host network.
You cannot create a custom host network like bridge.


What is None Network?

If you create a container using the none network:

It will not get an IP address.
It has no external connectivity.
It cannot communicate with other containers or outside world.


What is Overlay Network?

The scope of bridge / host / none networks is limited to a single Docker host.

To enable communication between containers running on different Docker servers, we use overlay network.

ðŸ”¥ Interview Question

Q: What is an Overlay Network?

Answer:
An overlay network allows communication between containers running on different Docker hosts. It is mainly used in Docker Swarm for multi-host networking.
